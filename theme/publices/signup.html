<!doctype html>
<html>
<head>
<meta charset="utf-8">
    <title>N-club</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.12.0/semantic.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/jquery-1.11.2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.12.0/semantic.min.js"></script>
    </head>
    <body>
    <div class="ui fixed menu navbar">
    <div class="container">
    <a href="/" class="item">论坛</a>
    <div class="item">这是一个论坛</div>
    <div class="right menu">

    <a href="/signup" class="item">注册</a>
    <a href="/signin" class="item">登录</a>

    </div>
    </div>
    </div>



<script type="text/javascript">
    $('.message .close').on('click', function() {
        $(this).closest('.message').fadeOut();
    });
</script>

<div class="container">
    <div class="ui form segment" style="width:400px;margin:40px auto">

    <div class="two fields">
    <div class="field required">
    <label>用户名</label>
    <input placeholder="用户名" type="text" name="name" id="name">
    </div>
    <div class="field required">
    <label>性别</label>
    <div class="ui selection dropdown">
    <div class="default text">选择性别</div>
    <i class="dropdown icon"></i>
    <input type="hidden" name="gender" id="gender">
    <div class="menu">
    <div class="item" data-value="男">男</div>
    <div class="item" data-value="女">女</div>
    </div>
    </div>
    </div>
    </div>
    <div class="two fields">
    <div class="field required">
    <label>密码</label>
    <input placeholder="密码" type="password" name="password">
    </div>
    <div class="field required">
    <label>重复密码</label>
    <input placeholder="重复密码" type="password" name="re_password">
    </div>
    </div>
    <div class="field required">
    <label>邮箱</label>
    <input placeholder="邮箱" type="email" name="email">
    </div>
    <div class="field">
    <label>个人签名</label>
    <input type="text" placeholder="限制在50字以内" name="signature">
    </div>
    <input type="submit" class="ui button fluid" value="注册">

    </div>
    </div>

    <script type="text/javascript">
    $('.ui.dropdown').dropdown();
//    //注册
//    name:{type:String,require:true},
//    email:{type:String,require:true},
//    password:{type:String,require:true},
//    gender:{type:String,require:true},
//    signature:{type:String},
    $('.fluid').click(function(){
        $.ajax({
            url:"/signup",
            method:'POST',
            data:{
                name:$("#name").val(),
                email:$("#email").val(),
                password:$("#password").val(),
                gender:$("#gender").val(),
                signature:$("#signature").val(),
            },success(rtn){
                if(rtn.issuccess){
                    //重定向到主页

                }else{
                    alert(rtn.msg);
                }
            }
        })
    });


    </script>


</body>
</html>